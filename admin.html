<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Quantum Trade Signals VIP</title>
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Admin Navigation -->
    <nav class="navbar admin-nav">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-atom quantum-icon"></i>
                <div>
                    <span class="logo-text">QUANTUM</span>
                    <span class="logo-subtext">ADMIN PANEL</span>
                </div>
            </div>
            
            <div class="admin-nav-controls">
                <button id="adminLogout" class="btn-auth">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
                <button id="backToSite" class="btn-outline">
                    <i class="fas fa-globe"></i> View Site
                </button>
            </div>
        </div>
    </nav>

    <!-- Admin Container -->
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="admin-user-info">
                <div class="admin-avatar">
                    <i class="fas fa-user-shield"></i>
                </div>
                <div class="admin-user-details">
                    <h4 id="adminEmail">Loading...</h4>
                    <p class="admin-role">Administrator</p>
                </div>
            </div>
            
            <nav class="admin-menu">
                <a href="#dashboard" class="admin-menu-item active">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#signals" class="admin-menu-item">
                    <i class="fas fa-bolt"></i>
                    <span>Manage Signals</span>
                </a>
                <a href="#users" class="admin-menu-item">
                    <i class="fas fa-users"></i>
                    <span>Manage Users</span>
                </a>
                <a href="#notifications" class="admin-menu-item">
                    <i class="fas fa-bell"></i>
                    <span>Send Notifications</span>
                </a>
                <a href="#analytics" class="admin-menu-item">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </a>
                <a href="#settings" class="admin-menu-item">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </nav>
            
            <div class="admin-status">
                <div class="status-indicator online"></div>
                <span>System Online</span>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Dashboard Section -->
            <section id="dashboard" class="admin-section active">
                <div class="admin-section-header">
                    <h2><i class="fas fa-tachometer-alt"></i> Admin Dashboard</h2>
                    <p class="section-subtitle">Quantum Signals VIP Administration</p>
                </div>
                
                <div class="admin-stats-grid">
                    <div class="admin-stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalSignalsAdmin">0</h3>
                            <p>Total Signals</p>
                        </div>
                        <div class="stat-trend up">
                            <i class="fas fa-arrow-up"></i> 12%
                        </div>
                    </div>
                    
                    <div class="admin-stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalUsers">0</h3>
                            <p>Total Users</p>
                        </div>
                        <div class="stat-trend up">
                            <i class="fas fa-arrow-up"></i> 8%
                        </div>
                    </div>
                    
                    <div class="admin-stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalLikes">0</h3>
                            <p>Total Likes</p>
                        </div>
                        <div class="stat-trend up">
                            <i class="fas fa-arrow-up"></i> 24%
                        </div>
                    </div>
                    
                    <div class="admin-stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="successRateAdmin">0%</h3>
                            <p>Success Rate</p>
                        </div>
                        <div class="stat-trend up">
                            <i class="fas fa-arrow-up"></i> 3.2%
                        </div>
                    </div>
                </div>
                
                <div class="admin-quick-actions">
                    <h3><i class="fas fa-rocket"></i> Quick Actions</h3>
                    <div class="actions-grid">
                        <button class="action-card" id="quickSignal">
                            <i class="fas fa-plus-circle"></i>
                            <span>Create Signal</span>
                        </button>
                        <button class="action-card" id="quickNotification">
                            <i class="fas fa-bullhorn"></i>
                            <span>Send Alert</span>
                        </button>
                        <button class="action-card" id="quickUser">
                            <i class="fas fa-user-plus"></i>
                            <span>Add User</span>
                        </button>
                        <button class="action-card" id="quickReport">
                            <i class="fas fa-file-chart-column"></i>
                            <span>Generate Report</span>
                        </button>
                    </div>
                </div>
                
                <div class="admin-recent-activity">
                    <h3><i class="fas fa-history"></i> Recent Activity</h3>
                    <div class="activity-list" id="activityList">
                        <!-- Activity items will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Manage Signals Section -->
            <section id="signals" class="admin-section">
                <div class="admin-section-header">
                    <h2><i class="fas fa-bolt"></i> Manage Signals</h2>
                    <div class="header-actions">
                        <button class="btn-quantum" id="createNewSignal">
                            <i class="fas fa-plus"></i> New Signal
                        </button>
                        <button class="btn-outline" id="bulkActions">
                            <i class="fas fa-tasks"></i> Bulk Actions
                        </button>
                    </div>
                </div>
                
                <div class="admin-table-container">
                    <table class="admin-table" id="signalsTable">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="selectAll"></th>
                                <th>Asset</th>
                                <th>Action</th>
                                <th>Status</th>
                                <th>Expiry</th>
                                <th>Confidence</th>
                                <th>Likes</th>
                                <th>Created</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Signals will be loaded here -->
                        </tbody>
                    </table>
                </div>
                
                <div class="admin-pagination">
                    <button class="pagination-btn" disabled>Previous</button>
                    <span class="pagination-info">Page 1 of 1</span>
                    <button class="pagination-btn">Next</button>
                </div>
            </section>

            <!-- Manage Users Section -->
            <section id="users" class="admin-section">
                <div class="admin-section-header">
                    <h2><i class="fas fa-users"></i> Manage Users</h2>
                    <div class="header-actions">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="userSearch" placeholder="Search users...">
                        </div>
                        <button class="btn-quantum" id="exportUsers">
                            <i class="fas fa-download"></i> Export
                        </button>
                    </div>
                </div>
                
                <div class="admin-table-container">
                    <table class="admin-table" id="usersTable">
                        <thead>
                            <tr>
                                <th>Username</th>
                                <th>Email</th>
                                <th>Tier</th>
                                <th>Status</th>
                                <th>Signals</th>
                                <th>Joined</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Users will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Send Notifications Section -->
            <section id="notifications" class="admin-section">
                <div class="admin-section-header">
                    <h2><i class="fas fa-bell"></i> Send Notifications</h2>
                </div>
                
                <div class="notification-form-container">
                    <form id="adminNotificationForm">
                        <div class="form-group">
                            <label for="notificationTitle">Title *</label>
                            <input type="text" id="notificationTitle" required placeholder="Important Update">
                        </div>
                        
                        <div class="form-group">
                            <label for="notificationMessage">Message *</label>
                            <textarea id="notificationMessage" required rows="4" placeholder="Enter your notification message here..."></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="notificationType">Type</label>
                                <select id="notificationType">
                                    <option value="info">Info</option>
                                    <option value="warning">Warning</option>
                                    <option value="success">Success</option>
                                    <option value="alert">Alert</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="notificationAudience">Audience</label>
                                <select id="notificationAudience">
                                    <option value="all">All Users</option>
                                    <option value="vip">VIP Users Only</option>
                                    <option value="free">Free Users Only</option>
                                    <option value="specific">Specific Users</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group" id="specificUsersContainer" style="display: none;">
                            <label for="specificUsers">User Emails (comma-separated)</label>
                            <input type="text" id="specificUsers" placeholder="user1@email.com, user2@email.com">
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn-outline" id="previewNotification">
                                <i class="fas fa-eye"></i> Preview
                            </button>
                            <button type="submit" class="btn-quantum">
                                <i class="fas fa-paper-plane"></i> Send Notification
                            </button>
                        </div>
                    </form>
                </div>
                
                <div class="notification-history">
                    <h3><i class="fas fa-history"></i> Recent Notifications</h3>
                    <div class="history-list" id="notificationHistory">
                        <!-- Notification history will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics" class="admin-section">
                <div class="admin-section-header">
                    <h2><i class="fas fa-chart-bar"></i> Analytics</h2>
                    <div class="header-actions">
                        <select id="analyticsPeriod" class="quantum-select">
                            <option value="7">Last 7 Days</option>
                            <option value="30">Last 30 Days</option>
                            <option value="90">Last 90 Days</option>
                            <option value="365">Last Year</option>
                        </select>
                    </div>
                </div>
                
                <div class="analytics-grid">
                    <div class="analytics-chart-container">
                        <h3>Signals Performance</h3>
                        <canvas id="analyticsChart"></canvas>
                    </div>
                    
                    <div class="analytics-chart-container">
                        <h3>User Growth</h3>
                        <canvas id="usersChart"></canvas>
                    </div>
                    
                    <div class="analytics-metrics">
                        <h3>Key Metrics</h3>
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <div class="metric-value" id="avgSuccessRate">0%</div>
                                <div class="metric-label">Avg. Success Rate</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="avgLikes">0</div>
                                <div class="metric-label">Avg. Likes per Signal</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="userEngagement">0%</div>
                                <div class="metric-label">User Engagement</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="retentionRate">0%</div>
                                <div class="metric-label">Retention Rate</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="admin-section">
                <div class="admin-section-header">
                    <h2><i class="fas fa-cog"></i> Settings</h2>
                </div>
                
                <div class="settings-tabs">
                    <div class="settings-tab-nav">
                        <button class="settings-tab active" data-tab="general">General</button>
                        <button class="settings-tab" data-tab="api">API</button>
                        <button class="settings-tab" data-tab="security">Security</button>
                        <button class="settings-tab" data-tab="email">Email</button>
                    </div>
                    
                    <div class="settings-tab-content">
                        <div class="settings-pane active" id="general">
                            <h3>General Settings</h3>
                            <form id="generalSettingsForm">
                                <div class="form-group">
                                    <label for="siteName">Site Name</label>
                                    <input type="text" id="siteName" value="Quantum Trade Signals VIP">
                                </div>
                                
                                <div class="form-group">
                                    <label for="siteDescription">Site Description</label>
                                    <textarea id="siteDescription" rows="3">Institutional-grade trading signals powered by quantum computing principles.</textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="adminEmailContact">Admin Email</label>
                                    <input type="email" id="adminEmailContact" value="admin@quantumsignals.com">
                                </div>
                                
                                <div class="form-group">
                                    <label for="timezone">Timezone</label>
                                    <select id="timezone">
                                        <option value="UTC">UTC</option>
                                        <option value="EST" selected>EST</option>
                                        <option value="PST">PST</option>
                                        <option value="GMT">GMT</option>
                                    </select>
                                </div>
                                
                                <button type="submit" class="btn-quantum">Save Changes</button>
                            </form>
                        </div>
                        
                        <div class="settings-pane" id="api">
                            <h3>API Settings</h3>
                            <div class="api-keys-list">
                                <div class="api-key-item">
                                    <div class="api-key-info">
                                        <strong>Supabase API</strong>
                                        <span class="api-key-status active">Active</span>
                                    </div>
                                    <div class="api-key-actions">
                                        <button class="btn-small">Regenerate</button>
                                        <button class="btn-small btn-outline">Copy</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-pane" id="security">
                            <h3>Security Settings</h3>
                            <form id="securitySettingsForm">
                                <div class="form-group">
                                    <label for="sessionTimeout">Session Timeout (minutes)</label>
                                    <input type="number" id="sessionTimeout" value="60" min="5">
                                </div>
                                
                                <div class="form-group">
                                    <label for="maxLoginAttempts">Max Login Attempts</label>
                                    <input type="number" id="maxLoginAttempts" value="5" min="1">
                                </div>
                                
                                <div class="form-group">
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="enable2FA" checked>
                                        <label for="enable2FA">Enable Two-Factor Authentication for Admins</label>
                                    </div>
                                </div>
                                
                                <button type="submit" class="btn-quantum">Update Security</button>
                            </form>
                        </div>
                        
                        <div class="settings-pane" id="email">
                            <h3>Email Settings</h3>
                            <form id="emailSettingsForm">
                                <div class="form-group">
                                    <label for="smtpHost">SMTP Host</label>
                                    <input type="text" id="smtpHost" value="smtp.gmail.com">
                                </div>
                                
                                <div class="form-group">
                                    <label for="smtpPort">SMTP Port</label>
                                    <input type="number" id="smtpPort" value="587">
                                </div>
                                
                                <div class="form-group">
                                    <label for="smtpUsername">SMTP Username</label>
                                    <input type="text" id="smtpUsername" value="noreply@quantumsignals.com">
                                </div>
                                
                                <div class="form-group">
                                    <label for="smtpPassword">SMTP Password</label>
                                    <input type="password" id="smtpPassword" placeholder="••••••••">
                                </div>
                                
                                <button type="submit" class="btn-quantum">Save Email Settings</button>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Admin Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase.js"></script>
    <script src="auth.js"></script>
    <script src="admin.js"></script>
</body>
</html>
